
import speech_recognition as sr
from gtts import gTTS
import os

def transcribe_audio(file_path):
    recognizer = sr.Recognizer()
    with sr.AudioFile(file_path) as source:
        audio = recognizer.record(source)
    try:
        return recognizer.recognize_google(audio)
    except:
        return "Could not understand audio."

def generate_response(prompt):
    # Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ø³ØªØ¬Ø§Ø¨Ø© LLM (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Cohere Ø£Ùˆ OpenAI API)
    return f"You said: {prompt}. Here's a simulated LLM response."

def text_to_speech(text, output_file="response.mp3"):
    tts = gTTS(text)
    tts.save(output_file)

if __name__ == "__main__":
    audio_file = "input.wav"  # Ø¶Ø¹ Ù…Ù„Ù ØµÙˆØªÙŠ Ø¨Ø§Ø³Ù… input.wav
    print("ğŸ”Š Transcribing audio...")
    text = transcribe_audio(audio_file)
    print("ğŸ“ Transcribed:", text)

    print("ğŸ§  Generating LLM response...")
    response = generate_response(text)
    print("ğŸ’¬ Response:", response)

    print("ğŸ§ Converting response to audio...")
    text_to_speech(response)
    print("âœ… Done. Check 'response.mp3'")
